{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VISHAKHA\\\\Desktop\\\\shreya\\\\shreya\\\\client\\\\src\\\\pages\\\\SearchFundraiser.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Jumbotron, Container, Col, Form, Button, Card, Row, CardColumns } from \"react-bootstrap\";\nimport { Animated } from \"react-animated-css\";\nimport Auth from \"../utils/auth\";\nimport { saveFundraiserIds, getSavedFundraiserIds } from \"../utils/localStorage\";\nimport { ADD_FUNDRAISER } from \"../utils/mutations\";\nimport { GET_ALL_FUNDRAISERS } from \"../utils/queries\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport FundraiserCard from \"../components/FundraiserCard\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchFundraisers = () => {\n  _s();\n  const [searchedFundraisers, setSearchedFundraisers] = useState([]);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [savedFundraiserIds, setSavedFundraiserIds] = useState(getSavedFundraiserIds());\n  const getAllFundRaisers = useQuery(GET_ALL_FUNDRAISERS, {\n    onCompleted: fundData => {\n      setSearchedFundraisers(fundData.getAllFundRaisers);\n      console.log(\"got fund data\", fundData);\n    }\n  });\n  useEffect(() => {\n    return () => saveFundraiserIds(savedFundraiserIds);\n  });\n  const handleSearchChange = e => {\n    e.preventDefault();\n    setSearchInput(e.target.value);\n  };\n  const getFilteredResults = allResult => {\n    const reversed = [...searchedFundraisers].reverse();\n    return reversed.filter(fundraiser => {\n      return fundraiser.title.toLowerCase().includes(searchInput.toLowerCase()) || fundraiser.description.toLowerCase().includes(searchInput.toLowerCase());\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Jumbotron, {\n      fluid: true,\n      className: \"text-light page-header\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Browse Fundraisers!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formSearch\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"search\",\n            placeholder: \"Search\",\n            className: \"search\",\n            width: 50,\n            onChange: handleSearchChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), getAllFundRaisers.loading && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading fundraisers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 37\n    }, this), !getAllFundRaisers.loading && searchedFundraisers && /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [getFilteredResults(searchedFundraisers).length, \" Fundraisers\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardColumns, {\n        children: getFilteredResults(searchedFundraisers).map(fundraiser => {\n          return /*#__PURE__*/_jsxDEV(FundraiserCard, {\n            fundraiser: fundraiser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 22\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(SearchFundraisers, \"2Y9IMYsHwXSX30PhclmQgqcLq8w=\", false, function () {\n  return [useQuery];\n});\n_c = SearchFundraisers;\nexport default SearchFundraisers;\nvar _c;\n$RefreshReg$(_c, \"SearchFundraisers\");","map":{"version":3,"names":["React","useState","useEffect","Jumbotron","Container","Col","Form","Button","Card","Row","CardColumns","Animated","Auth","saveFundraiserIds","getSavedFundraiserIds","ADD_FUNDRAISER","GET_ALL_FUNDRAISERS","useMutation","useQuery","FundraiserCard","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchFundraisers","_s","searchedFundraisers","setSearchedFundraisers","searchInput","setSearchInput","savedFundraiserIds","setSavedFundraiserIds","getAllFundRaisers","onCompleted","fundData","console","log","handleSearchChange","e","preventDefault","target","value","getFilteredResults","allResult","reversed","reverse","filter","fundraiser","title","toLowerCase","includes","description","children","fluid","className","fileName","_jsxFileName","lineNumber","columnNumber","Group","controlId","Control","type","placeholder","width","onChange","loading","length","map","_c","$RefreshReg$"],"sources":["C:/Users/VISHAKHA/Desktop/shreya/shreya/client/src/pages/SearchFundraiser.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Jumbotron,\r\n  Container,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  Card,\r\n  Row,\r\n  CardColumns,\r\n} from \"react-bootstrap\";\r\nimport { Animated } from \"react-animated-css\";\r\n\r\nimport Auth from \"../utils/auth\";\r\nimport {\r\n  saveFundraiserIds,\r\n  getSavedFundraiserIds,\r\n} from \"../utils/localStorage\";\r\nimport { ADD_FUNDRAISER } from \"../utils/mutations\";\r\nimport { GET_ALL_FUNDRAISERS } from \"../utils/queries\";\r\nimport { useMutation, useQuery } from \"@apollo/client\";\r\nimport FundraiserCard from \"../components/FundraiserCard\";\r\n\r\nconst SearchFundraisers = () => {\r\n  const [searchedFundraisers, setSearchedFundraisers] = useState([]);\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n  const [savedFundraiserIds, setSavedFundraiserIds] = useState(\r\n    getSavedFundraiserIds()\r\n  );\r\n\r\n  const getAllFundRaisers = useQuery(GET_ALL_FUNDRAISERS, {\r\n    onCompleted: (fundData) => {\r\n      setSearchedFundraisers(fundData.getAllFundRaisers);\r\n\r\n      console.log(\"got fund data\", fundData);\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    return () => saveFundraiserIds(savedFundraiserIds);\r\n  });\r\n\r\n  const handleSearchChange = (e) => {\r\n    e.preventDefault();\r\n    setSearchInput(e.target.value);\r\n  };\r\n\r\n  const getFilteredResults = (allResult) => {\r\n    const reversed = [...searchedFundraisers].reverse();\r\n    return reversed.filter((fundraiser) => {\r\n      return (\r\n        fundraiser.title.toLowerCase().includes(searchInput.toLowerCase()) ||\r\n        fundraiser.description.toLowerCase().includes(searchInput.toLowerCase())\r\n      );\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <Jumbotron fluid className=\"text-light page-header\">\r\n        <Container>\r\n          <h1>Browse Fundraisers!</h1>\r\n\r\n          <Form.Group className=\"mb-3\" controlId=\"formSearch\">\r\n            <Form.Control\r\n              type=\"search\"\r\n              placeholder=\"Search\"\r\n              className=\"search\"\r\n              width={50}\r\n              onChange={handleSearchChange}\r\n            />\r\n          </Form.Group>\r\n        </Container>\r\n      </Jumbotron>\r\n\r\n      {getAllFundRaisers.loading && <h1>Loading fundraisers</h1>}\r\n      {!getAllFundRaisers.loading && searchedFundraisers && (\r\n        <Container>\r\n          <h2>{getFilteredResults(searchedFundraisers).length} Fundraisers</h2>\r\n          <CardColumns>\r\n            {getFilteredResults(searchedFundraisers).map((fundraiser) => {\r\n              return <FundraiserCard fundraiser={fundraiser} />;\r\n            })}\r\n          </CardColumns>\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchFundraisers;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}